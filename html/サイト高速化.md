# サイト高速化

- **目次**
    
    ・[サイト高速化することで得られるメリット]()
    
    ・[サイト高速化することでのデメリット]()
    ・[サイト高速化をどういう指標で測るのか]()
    ・[サイト高速化の手法]()
    ・[サイト高速化が得意な会社]()（サービス提供社なのか開発会社なのか）
    

お疲れ様です。GLUのITCのクックです。

本日よりサイト高速化に関する情報を調べながら、皆さんにご紹介いたしますので、興味のある方はぜひご覧ください。

さて、サイト高速化することで得られるメリットを紹介する前に、なぜサイト高速化するのが必要なのか、少しお話し合いましょう。

ページの読み込み速度（サイト表示速度）は、ウェブサイトに関連する多くのことを反映しています。これは、ビジネスのブランド・アイデンティティにおける重要なツールだと思われています。

Webページの読み込み時間はユーザー体験に直接影響を与えます。これはもう1つの重要なページ上のSEOランキング要素です。

Webサイトの表示が遅いのは多くの理由によるものですが、その中で最も影響を与えているのが、グーグルでのWebサイトの急激なランク低下を引き起こし、間接的にWebサイトを介したビジネスの宣伝の効果を大幅に低下させます。

以下では、サイト高速化することで得られるメリットについてご説明いたします。

<aside>
💡 まだまだ未熟で経験不足な部分もあり間違った情報を書いてしまうことあるかもしれませんが、もしそれに気づいた時はコメントに、ご指摘いただけるととてもありがたいです（確認して記事を更新いたします）。

</aside>

# サイト高速化することで得られるメリット

---

> 1**秒高速化される毎に10％の売上向上**
> 

背景として、米国を始めとする海外の多くのWebサイトでは以下のような統計データが公開されています。
・米国のコミュニティサイト：6秒から1.2秒に高速化したことで12.0%↑の売上が向上した。
・米国トップ20以内のECサイト：Webページの読み込みを1.5秒以内で完了している。
・米国大手ポータルサイト：トップページの読み込みを400ms向上される毎に9％↑のアクセス増がある。

なお、様々な**E**Cサイトで高速化により売り上げが向上した実例があります。

- Shopzilla：6秒から1.2秒に高速化することによって12.0%↑の売上向上
- Bing：2.0秒高速化される毎に5.0%↑の売上向上
- Amazon.com：0.1秒高速化される毎に、1.0%↑の売り上げ向上

逆に、ECサイトのパフォーマンスが良くない場合には以下の問題があります。
・61％のユーザーが遅いECサイトに再訪しない。
・25％のユーザーが、ECサイト表示に6秒掛かった時には離脱してしまう。
・75％のユーザーが、ピーク時に遅延を待たずに競合他社のECサイトへアクセスする。
・40％以上のモバイルデバイスのユーザーは、初期表示に5秒以上かかる場合は再読み込みボタンを押す。

# サイト高速化することでのデメリット

---

デメリットと言うほどではないのですが、まず管理/更新の際に少し手間が増えます。また、かなり強力なキャッシュが効くので、更新や修正を行った際に、キャッシュをうまく回避するようにしなければいけません。

# サイト高速化をどういう指標で測るのか

---

マーケティングには次のような原則があります。 この原則は、ウェブサイトの読み込み速度を最適化する場合にも非常に当てはまります。

> 「測定できないものは管理できない」
> 

または

> トム・デマルコは DeMarco, T. (1982) Controlling Software Projects: Management, Measurement & Estimation, Yourdon Press, New York, USA, p3 の中で「測定できないものは制御できない」と記している。
> 

ですので、サイト高速化を最も理解するには、下記の考慮すべき6つの指標を見てみましょう。

- **注**：*これらの指標は、デザイナーと開発者およびビジネスマンの両方がより適切に連携するのに役立つため、Web制作で非常に役立ちます。ただし、実際のユーザー体験を決定するものではありません（これは正直に言えば痛いものですが、受け入れるべきだと思われます）。*
    
    ![Screen Shot 2021-10-22 at 14.03.11.png](%E3%82%B5%E3%82%A4%E3%83%88%E9%AB%98%E9%80%9F%E5%8C%96%20d40bc6e3633348ef8fbabbabfd7fdd49/Screen_Shot_2021-10-22_at_14.03.11.png)
    

### 1. First Contentful Paint (FCP)

First Contentful Paint (視覚コンテンツの初期表示時間、FCP) は、知覚される読み込み速度を測定するための重要なユーザーを中心とした指標です。これは、FCP がページの読み込みタイムラインにおいて最初にコンテンツが読み込まれたと思われる時点 (ユーザーが画面上に何らかのコンテンツが表示されたことを確認するタイミング) を示すためです。FCP を高速にすることで、そのページが動作していることをユーザーに確信させることができるようになります。

![Screen Shot 2021-10-21 at 16.03.49.png](%E3%82%B5%E3%82%A4%E3%83%88%E9%AB%98%E9%80%9F%E5%8C%96%20d40bc6e3633348ef8fbabbabfd7fdd49/Screen_Shot_2021-10-21_at_16.03.49.png)

　　　　　　　　　　　Lighthouse に出てくる First Contentful Paint

### 2. First Input Delay (FID)

First Input Delay (初回入力までの遅延時間、FID) は、読み込みの応答性を測定するための重要なユーザーを中心とした指標です。これは、応答のないページを操作する場合のユーザー体験を数値化したものであり、FID が短ければ短いほど、そのページがユーザーにとって使いやすいものであることが保証されます。

### 3.Time To Interactive (TTI)

Time to Interactive (操作可能になるまでの時間、TTI) は、読み込みの応答性を測定するために重要となるラボ環境での指標です。TTI は、ページが見かけ上操作可能になっているものの、実際にはそうでない場合を特定するのに役立ちます。TTI を高速にすることで、そのページが使用可能であることをユーザーに確信させることができます。

![Screen Shot 2021-10-22 at 15.26.44.png](%E3%82%B5%E3%82%A4%E3%83%88%E9%AB%98%E9%80%9F%E5%8C%96%20d40bc6e3633348ef8fbabbabfd7fdd49/Screen_Shot_2021-10-22_at_15.26.44.png)

### 4.Total Blocking Time (TBT)

Total Blocking Time (合計ブロック時間、TBT) は、読み込みの応答性を測定するために重要となるラボ環境での指標です。ページが確実に操作可能になるまでの間の操作不可能性の重大さの数値化に役立ち、TBT が低ければ低いほどページが確実に使用可能となることを示しています。

![Screen Shot 2021-10-22 at 15.25.16.png](%E3%82%B5%E3%82%A4%E3%83%88%E9%AB%98%E9%80%9F%E5%8C%96%20d40bc6e3633348ef8fbabbabfd7fdd49/Screen_Shot_2021-10-22_at_15.25.16.png)

　　　　　　　　　　PageSpeed Insights に出てくる Total Blocking Time

### 5. Cumulative Layout Shift (CLS)

Cumulative Layout Shift (累積レイアウト シフト数、CLS) は、視覚的な安定性を測定するための重要なユーザーを中心とした指標です。これは、ユーザーが予期しないレイアウト シフトに遭遇する頻度の数値化に役立つ指標であり、CLS が低ければ低いほど、そのページが快適であることが保証されます。

![Screen Shot 2021-10-22 at 15.28.04.png](%E3%82%B5%E3%82%A4%E3%83%88%E9%AB%98%E9%80%9F%E5%8C%96%20d40bc6e3633348ef8fbabbabfd7fdd49/Screen_Shot_2021-10-22_at_15.28.04.png)

　　　　　　 Core Web Vitals というChorme拡張機能から出てくるCumulative Layout Shiftスコア

[web.dev](https://web.dev/cls/) の Cumulative Layout Shift (CLS) に関する記事の事例動画がとても分かりやすかったので引用させいただきます。

[https://storage.googleapis.com/web-dev-assets/layout-instability-api/layout-instability2.webm](https://storage.googleapis.com/web-dev-assets/layout-instability-api/layout-instability2.webm)

### 6. Time To First Byte (TTFB)

Time To First Byte (最初の1バイトを受信するまでの時間、TTFB）は、ブラウザがサーバーからのデータの最初の1バイトを受け取るまでにかかる時間の応答性を測定するために重要となるラボ環境での指標です。このデータを受け取るまでに時間がかかるほど、ページの表示が遅くなります。よくある誤解が、[DNSルックアップ](https://kinsta.com/blog/reduce-dns-lookups/)後にTTFBが計算されるというもの。しかし、実際のネットワークにおける[TTFBの計算](https://en.wikipedia.org/wiki/Time_to_first_byte)には常にネットワークレイテンシが含まれます。これは3つのステップで構成され、その間のどこでも遅延やレイテンシが発生する可能性があり、結果として合計TTFBが累積していきます。

![Screen Shot 2021-10-22 at 15.31.01.png](%E3%82%B5%E3%82%A4%E3%83%88%E9%AB%98%E9%80%9F%E5%8C%96%20d40bc6e3633348ef8fbabbabfd7fdd49/Screen_Shot_2021-10-22_at_15.31.01.png)

                                             [gtmetrix.com](https://gtmetrix.com/reports/bita.jp/vTu2iAaW/)に出てくる待機時間（TTFB）

### **【表示速度を計測するツールの例】**

- [PageSpeed Insights](https://developers.google.com/speed/pagespeed/insights/?hl=ja)
- [Test My Site](https://www.thinkwithgoogle.com/intl/ja-jp/feature/testmysite/)
- [GTmetrix](https://gtmetrix.com/)
- [Web Vitals](https://chrome.google.com/webstore/detail/web-vitals/ahfhijdlegdabablpippeagghigmibma?hl=ja)

# サイト高速化の手法

サイト高速化する手法は単純です。

WEBサイトが遅い原因を探して、ひとつひとつ改善していけは良いのです。

では、遅い原因を探るにはどうしたら良いのでしょうか？

上記に記載した表示速度を計測するツールの中で一つを利用して、モバイル端末やパソコン向けのページの実際のパフォーマンスに関するレポートと、そうしたページの改善方法を確認できます。

例えば：[PageSpeed Insights](https://developers.google.com/speed/pagespeed/insights/?hl=ja)を利用します。

URLを入れるとWEBサイトを解析して、モバイル、パソコン両サイトの表示速度が遅い原因を細かく抽出し、分かりやすくスコアにして提示してくれます。理想的には、ウェブサイトの読み込み時間は**2〜3秒以上**である必要があります。

**PageSpeed Insightsのスコア改善には以下のような最適化項目があります。**

- 画像を最適化する
- スクロールせずに見えるコンテンツのレンダリングをブロックしている JavaScript/CSS を排除する
- JavaScript を縮小する
- CSS を縮小する
- HTML を縮小する
- リンク先ページのリダイレクトを使用しない
- 表示可能コンテンツの優先順位を決定する
- 圧縮を有効にする
- ブラウザのキャッシュを活用する
- サーバの応答時間を短縮する

ここに表示されている項目を改善していくことで、ページの表示スピードが改善され、PageSpeed Insightsのスコアも上がっていくという仕組みです。

![Screen Shot 2021-10-22 at 15.39.17.png](%E3%82%B5%E3%82%A4%E3%83%88%E9%AB%98%E9%80%9F%E5%8C%96%20d40bc6e3633348ef8fbabbabfd7fdd49/Screen_Shot_2021-10-22_at_15.39.17.png)

　　　　　　　　　　　[PageSpeed Insights](https://developers.google.com/speed/pagespeed/insights/?hl=ja&url=https%3A%2F%2Fbita.jp%2F&tab=desktop)に出てきた[bita.jp](https://bita.jp/)の改善できる項目

それでは、サイトの表示速度の遅い原因がわかった後、改善方法を検討してみましょう。

サイトの速度を向上させるために提案できることがいくつかあります。

### 1. 最適化された画像を追加する

サイトの画像のファイルサイズを小さくすると、ウェブサイトがページに読み込むコンテンツが少なくなり、ページが高速になります。 通常、ページサイズは1.5〜6MBのデータである必要があります。 通常、データが多いほど、読み込みに時間がかかり、データサイズが小さいほど、読み込みが速くなります。

![Screen Shot 2021-10-25 at 08.26.40.png](%E3%82%B5%E3%82%A4%E3%83%88%E9%AB%98%E9%80%9F%E5%8C%96%20d40bc6e3633348ef8fbabbabfd7fdd49/Screen_Shot_2021-10-25_at_08.26.40.png)

　　　　　　　　　　　　　　　　　1ページあたりの平均バイト数（KB）

### **【**画像を最適化する**ツールの例】**

- [Adobe Photoshop](http://www.photoshop.com/)
- [Gimp](http://www.gimp.org/)
- [Paint.NET](http://www.getpaint.net/index.html)
- [GIFsicle](http://www.lcdf.org/gifsicle/)
- [JPEGtran](http://jpegclub.org/jpegtran/)
- [JPEG Mini](http://www.jpegmini.com/)
- [OptiPNG](http://optipng.sourceforge.net/)
- [pngquant](http://pngquant.org/)
- [FileOptimizer](http://netm.ag/optimize-263)
- [ImageOptim](http://imageoptim.com/)
- [Trimage](http://trimage.org/)
- [ImageResize.org](https://imageresize.org/compress-images)

### 2. キャッシュでサイトの速度を向上させる

キャッシュは、簡単にアクセスできるようにWebブラウザに保存されているWebサイトのコピーまたはインプレッションです。（**インプレッション数**とは、広告が表示された回数のことです。）

Webサイトにキャッシュを実装することにより、以前にサイトにアクセスしたことがあるユーザーは、キャッシュされたバージョンのサイトを表示できます。 これについて詳しく説明します。

ユーザーが最初にサイトにアクセスしたとき、ブラウザーはサーバーにWebサイト情報を要求しますが、最初のアクセス後、ブラウザーはブラウザーから情報を要求する代わりに、キャッシュまたは保存されたバージョンを使用します。 これは、ウェブサイトの速度に大きな違いをもたらす可能性があります。

Webサイトが更新されたばかりの場合、最新の更新が含まれていない可能性のあるキャッシュ/保存されたバージョンを表示しているため、閲覧者に更新が表示されない場合があることに注意してください。

### **3. スクリプトの縮小と圧縮**

画像の最適化と同様に、ファイルサイズを小さくしていきましょう。
ユーザーがWebサイトをロードすると、Webサイトが正常に機能するように、多くのページと数百の異なるファイル/スクリプトがロードされます。
スクリプトが読み込まれるたびに、処理時間が長くなり、Webサイトの読み込み時間が長くなります。 したがって、サイトを縮小することが最も重要です。 ただし、これは、圧縮が適切かつ安全に実行されるようにするために、経験豊富なWeb開発者を必要とする困難な作業です。

### 4.**適切なホスティングを探す**

インターネットは絶えず変化し、ますます速くなっています。 古いホスティングは、最新のホスティングソリューションと競合することはできません。 したがって、そのサイズと機能に関してWebサイトに適切なホスティングオプションを選択することは、サイトに適切な速度オプションを取得できることを意味します。

### 5.不要なプラグインを削除する

一部のウェブサイトビルダーと管理者は、すべてのプラグインを統合し、データベースを煩雑にする特定の機能を追加するソフトウェアをサポートする習慣があります。ホストのCPUは、より大きなウェブのサイズであるより多くのクエリを処理する必要があります。 これにより、通常、アクセス時にWebサイトの速度が低下します。

したがってページの読み込み速度が遅い場合は、不要なプラグインを削除し、定期的にプラグインを更新して、ウェブサイトの読み込みをスムーズにする必要があります。

### 6.CSSコードの最適化する

CSS –カスケードスタイルシートは、Webページのスタイリング言語であり、レイアウト、色、およびフォントを制御することにより、フォーマットを制御し、Webページの表示をページのメインコンテンツと区別するために使用されます。 CSS言語はHTMLよりも人目を引くと考えられていますが、CSSコードを最適化する方法がわからない場合は、その見返りとしてWebサイトの読み込み速度が大幅に低下します。 したがって、たとえば、

margin-top: 20px;

margin-right: 10px;

margin-bottom: 20px;

margin-left: 10px;

書くのではなく、margin: 20px 10px 20px 10px;としての「効果的な」CSSコードを書く必要があります。

CSSコードを最適化することは、Webサイトを高速化するための非常に効果的な方法です。CSSコードを改善すると、ページの読み込み速度がWebサイトの読み込みに約1〜3秒で低下します。 [https://mona.solutions](https://mona.solutions/)、[freelancervietnam.vn](http://freelancervietnam.vn/)、[bugnetproject.com](http://bugnetproject.com/)、...など、CSSを非常に効果的に最適化したWebサイトがいくつかあります。

# サイト高速化が得意な会社

最後に、いくつかのサイト高速化が得意な会社（サービス提供社）をお薦めさせていただきたいと思いますので、ご参照までに。

- [ウェブサイト表示高速化サービス](https://spice-factory.co.jp/service/wso/)　（フロント/バックエンドの“ハイブリット対策”によるサイト表示高速化ソリューション（WSO：Website Speed Optimization））
- [フィックスターズのソフトウェア高速化サービス](https://www.fixstars.com/ja/service/acceleration/)